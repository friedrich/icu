<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <meta name="GENERATOR" content="Mozilla/4.72 [en] (Windows NT 5.0; U) [Netscape]">
   <title>Read Me</title>
</head>
<body>
# *****************************************************************************
<br># *
<br># *&nbsp;&nbsp; Copyright (C) 1995-2001, International Business Machines
<br># *&nbsp;&nbsp; Corporation and others.&nbsp; All Rights Reserved.
<br># *
<br># *&nbsp;&nbsp; Author: Ram Viswanadha
<br># *&nbsp;&nbsp;&nbsp;&nbsp; IBM
<br># *****************************************************************************
<blockquote>
<blockquote>
<blockquote>
<blockquote>
<blockquote>
<h2>&nbsp;&nbsp;&nbsp;README</h2>
<h3>ICU4JNI Version 2.0</h3>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<h4>Contents</h4>
<blockquote>* Introduction
<br>* License Information
<br>* System Requirements
<br>* Installation</blockquote>
<h4>Introduction</h4>
<blockquote>ICU4JNI contains Java Native Interface wrappers for ICU4C's
character set conversion and collation libraries.
<br>These wrappers provide increased performace of conversion
and collation, and complete compatibility with ICU4C.</blockquote>
<h4>License Information</h4>
<blockquote>The ICU projects (ICU4C and ICU4J) have changed their licenses
from the IPL (IBM Public License) to the X license. The X license is a
non-viral and recommended free software license that is compatible with
the GNU GPL license. This is effective starting with release 1.8.1 of ICU4C
and release 1.3.1 of ICU4J. All previous ICU releases will continue to
utilize the IPL. New ICU releases will adopt the X license. The users of
previous releases of ICU will need to accept the terms and conditions of
the X license in order to adopt the new ICU releases. The main effect of
the change is to provide GPL compatibility. The X license is listed as GPL
compatible, see the gnu page at <a href="http://www.gnu.org/philosophy/license-list.html#GPLCompatibleLicenses">http://www.gnu.org/philosophy/license-list.html#GPLCompatibleLicenses</a>
The text of the X license is available at <a href="http://www.x.org/terms.htm">http://www.x.org/terms.htm</a>.
The IBM version contains the essential text of the license, omitting the
X-specific trademarks and copyright notices. For more details please see
the <a href="http://oss.software.ibm.com/icu/press.html">press announcement</a>
and the Project <a href="http://oss.software.ibm.com/icu/project_faq.html#license">FAQ.</a></blockquote>
<h4>System Requirements</h4>
<blockquote>&nbsp;* JDK1.2 or higher
<br>&nbsp;* ICU4C built and installed</blockquote>
<p>Systems Supported</p>
<table BORDER COLS=3 WIDTH="48%" >
<tr>
<td>&nbsp;&nbsp; Operating System&nbsp;</td>

<td>Compiler</td>

<td>Additional Requirements</td>
</tr>

<tr>
<td>AIX 4.3&nbsp;</td>

<td>xlC</td>

<td>gmake</td>
</tr>

<tr>
<td>Solaris 2.6&nbsp;</td>

<td>GCC</td>

<td>gmake</td>
</tr>

<tr>
<td>Solaris 2.7&nbsp;</td>

<td>GCC</td>

<td>gmake</td>
</tr>

<tr>
<td>RedHat/Linux 6.0&nbsp;</td>

<td>GCC</td>

<td>gmake</td>
</tr>

<tr>
<td>RedHat/Linux 6.1&nbsp;</td>

<td>GCC</td>

<td>gmake</td>
</tr>

<tr>
<td>RedHat Alpha/Linux 6.1</td>

<td>GCC</td>

<td>gmake</td>
</tr>

<tr>
<td>Win95&nbsp;</td>

<td>CL</td>

<td>nmake</td>
</tr>

<tr>
<td>Win98&nbsp;</td>

<td>CL</td>

<td>nmake</td>
</tr>

<tr>
<td>WinNT&nbsp;</td>

<td>CL</td>

<td>nmake</td>
</tr>

<tr>
<td>Win2000</td>

<td>CL</td>

<td>nmake</td>
</tr>
</table>

<h4>Installation</h4>
<h5>UNIX</h5>

<ol>
<li>Download and install ICU4C from <a href="http://oss.software.ibm.com/icu">http://oss.software.ibm.com/icu</a>
<li>Set the ICU_DATA environment variable if trying to build with ICU
1.8.1 or earlier. E.g. if ICU has been installed in <tt>/usr/local/lib</tt>:<br>
   <tt>&nbsp;&nbsp;&nbsp;export ICU_DATA=/usr/local/lib/icu/&lt;icu_version>/</tt>
<li>Set the JAVA_HOME environment variable, e.g.:<br>
   <tt>&nbsp;&nbsp;&nbsp;export JAVA_HOME=/java/jdk1.3</tt>
<li>Run configure with prefix and jdk options, 
   ./configure --prefix=&lt;path to the directory where ICU is installed>&nbsp;--&lt;enable/disable>-jdk14, e.g.:<br>
<tt>&nbsp;&nbsp;&nbsp;./configure --prefix=/usr/local/ --enable-jdk14</tt>
<li>Run <tt>make check</tt> to build and run tests
</ol>

<h5>Win32</h5>
<p>Make is configured to build with or without JDK 1.4, and with the
ICU_DATA environment variable defined or not.
<ol>
<li>Download and install ICU4C from <a href="http://oss.software.ibm.com/icu">http://oss.software.ibm.com/icu</a>
<br>If trying to build with ICU 1.8.1 or earlier, set the ICU_DATA environment variable, e.g:<br>
<tt>&nbsp;&nbsp;&nbsp;set ICU_DATA=&lt;icu_dir>\source\data</tt><br>
(or pass ICUBIN on the command line as described below)
<li>Set the JAVA_HOME environment variable, e.g.:<br>
<tt>&nbsp;&nbsp;&nbsp;set JAVA_HOME=c:\jdk1.3</tt>
<li>Make sure the &lt;icu_dir>\bin directory is in your path.
<li>Run nmake with the supplied win32 makefile.  You can set the configuration option by defining CFG, and set the jdk option by defining JDK14. Also, if ICU_DATA is not set, you can provide the path to the ICU bin directory by defining ICUBIN. <ul>
<li>To set configuration options define CFG to either Debug or Release, default is Debug
<li>To build with JDK 1.4, define JDK14="TRUE", default is FALSE
<li>If ICU_DATA is not set, define ICUBIN=&lt;icu>/bin
</ul>
For example:<br>
<tt>&nbsp;&nbsp;&nbsp;nmake /f makefile-win32 CFG="Debug" JDK14="TRUE" ICUBIN="c:\icu\bin"</tt>
<li>The files are built in the &lt;jniroot>/build directory. The test is com.ibm.icu4jni.test.TestAll.  You must
define the library path to point to the jni library, and set the classpath to point to the icu4jni class files. E.g.:<br>
<tt>&nbsp;&nbsp;&nbsp;java -Djava.library.path=c:\icu4jni\build\lib -classpath=c:\icu4jni\build\classes
com.ibm.icu4jni.test.TestAll</tt><br>
Alternatively, you can also run the test by making the 'check' target, e.g.:<br>
<tt>&nbsp;&nbsp;&nbsp;&lt;full nmake command as described above>&nbsp;check</tt>
</ol>

<h4>For Integrating into JVM only</h4>
<blockquote>&nbsp;* Place the java source files in $(TARGETDIR)/com,i.e,
&lt;jdksource>/com
<br>&nbsp;* Add the following lines to &lt;jdk>/make/mkinclude/java_java.jmk
<br>&nbsp; $(TARGDIR)com/ibm/icu4jni/ICUJNIInterface.java \
<br>&nbsp; $(TARGDIR)com/ibm/icu4jni/CharToByteConverterICU.java \
<br>&nbsp; $(TARGDIR)com/ibm/icu4jni/ByteToCharConverterICU.java \
<br>&nbsp; # the files below are test classes
<br>&nbsp; $(TARGDIR)com/ibm/icu4jni/ByteToCharGB18030.java \
<br>&nbsp; $(TARGDIR)com/ibm/icu4jni/CharToByteGB18030.java \
<br>&nbsp;* The JNI wrappers work under the assumption that ICU4C is available
and installed on the target platform.
<br>&nbsp;* For adding additional codepages open CharacterEncoding.java
in &lt;jdksource>/sun/io directory and add the
<br>&nbsp;&nbsp; aliases to the converter
<br>&nbsp; for eg:
<br>&nbsp; For GB18030 support you add:
<br>&nbsp; aliasTable.put( "gb18030" , "GB18030");
<br>&nbsp; aliasTable.put( "gb-18030", "GB18030");
<br>&nbsp; aliasTable.put( "gb_18030", "GB18030");
<br>&nbsp; aliasTable.put( "GB-18030", "GB18030");
<br>&nbsp;* Compile JNI wrapper code into dll/so using a C compiler
<br>&nbsp;* Package the ICUJNIInterface.dll &lt;jdkbuild>/&lt;platform>/bin
directory
<br>&nbsp;* Rebuild the JDK source</blockquote>

</body>
</html>
